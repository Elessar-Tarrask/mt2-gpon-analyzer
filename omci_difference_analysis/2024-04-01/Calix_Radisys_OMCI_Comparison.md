# Анализ различий OMCI для ONT
**Дата:** 01.04.2024

## Введение

Данный анализ основан на исследовании двух GPON-файлов захвата и аналитических документов:

### Исходные файлы захвата
Исходные файлы захвата GPON находятся в папке `gpon_files`:
1. **CalixCapture.gpon** - захват данных от ONT Calix, произведенный без доступа к интернету
2. **RadisysCapture.gpon** - захват данных от ONT Radisys, произведенный с доступом к интернету

### Аналитические документы
Подробные анализы каждого захвата находятся в папке `analyzed_data`:
1. **Base_OMCI_Message_analysis_Calix.md** - анализ базовых OMCI сообщений в CalixCapture.gpon
2. **Base_OMCI_Message_analysis_Radisys.md** - анализ базовых OMCI сообщений в RadisysCapture.gpon

Данный сравнительный анализ объединяет информацию из всех вышеперечисленных источников для выявления различий в реализации OMCI протокола между ONT разных производителей.

## Сравнение ME между ONT Calix и Radisys

| ID ME | Название ME | Найдено в Calix | Найдено в Radisys | Комментарии |
|-------|-------------|:---------------:|:-----------------:|-------------|
| 2 | ONU Data | ✓ | ✓ | Базовый ME, используемый для мониторинга аварий в обоих ONT |
| 11 | PPTPEthernetUni | ⟳ | ✓ | В Calix упоминается только в сообщениях об авариях, в Radisys полная конфигурация |
| 45 | MAC Bridge Service Profile | | ✓ | Настройка мостового сервиса, только в Radisys |
| 47 | MAC Bridge Port Configuration Data | | ✓ | Конфигурация портов моста, только в Radisys |
| 84 | VLAN Tagging Filter Data | | ✓ | Настройка VLAN фильтрации, только в Radisys |
| 130 | Pbit Mapper Service Profile | | ✓ | QoS настройки и маппинг приоритетов, только в Radisys |
| 134 | IP host config data | | ✓ | IP конфигурация, только в Radisys (возможно, связано с наличием интернет-доступа) |
| 171 | Ext VLAN Tagging Opr Config Data | | ✓ | Расширенная конфигурация VLAN тегирования, только в Radisys |
| 262 | T-CONT | | ✓ | Управление полосой пропускания, только в Radisys |
| 263 | ANI G | ✓ | ✓ | Базовый ME, используемый для тестирования оптического интерфейса |
| 266 | GEM Interworking Termination Point | | ✓ | Настройка межсоединений и терминация GEM, только в Radisys |
| 268 | GEM Port Network CTP | | ✓ | Конфигурация GEM портов, только в Radisys |
| 277 | Priority Queue | | ✓ | Управление очередями приоритетов, только в Radisys |
| 329 | VEIP | | ✓ | Виртуальный Ethernet интерфейс, только в Radisys |
| 341 | GEM port network CTP performance monitoring history data | | ✓ | Мониторинг производительности GEM портов, только в Radisys |
| 425 | Ethernet Frame Extended PM 64 Bits | | ✓ | Расширенный мониторинг Ethernet кадров, только в Radisys |

**Условные обозначения**:
* ✓ - ME полностью поддерживается и настраивается
* ⟳ - ME присутствует, но только упоминается или частично настраивается

## Выводы

1. **Общая базовая функциональность**: Оба ONT (Calix и Radisys) поддерживают критически важные базовые ME (2 и 263) для мониторинга аварий и тестирования. ME 11 (PPTPEthernetUni) упоминается в Calix, но только в контексте сообщений о сбоях, а не прямых настроек.

2. **Расширенные возможности Radisys**: Radisys ONT демонстрирует значительно более широкий набор поддерживаемых ME:
   - Полная поддержка физических и виртуальных интерфейсов (ME 11, 329)
   - Полная конфигурация мостов и VLAN (ME 45, 47, 84, 171)
   - Управление QoS и приоритетами (ME 130, 277)
   - GPON-специфичные настройки (ME 262, 266, 268)
   - Расширенный мониторинг производительности (ME 341, 425)
   - IP конфигурация (ME 134)

3. **Базовый функциональный набор Calix**: Calix ONT полностью реализует только базовые ME (2, 263) для обеспечения минимальной функциональности. ME 11 присутствует, но не демонстрирует прямой конфигурации в захвате. Отсутствие многих ME может быть связано с тем, что захват был произведен без доступа к интернету.

4. **Влияние доступа к интернету**: Наличие интернет-доступа при захвате Radisys могло привести к активации большего числа ME, особенно связанных с:
   - IP-конфигурацией (ME 134)
   - Настройкой мостов и VLAN (ME 45, 47, 84, 171)
   - Конфигурацией GEM портов (ME 266, 268)

5. **Рекомендации для взаимозаменяемости**:
   - Базовый обязательный набор должен включать ME 2 и ME 263
   - Рекомендуемый набор должен также включать ME, связанные с основной конфигурацией:
     * ME 11 (PPTPEthernetUni) 
     * ME 45 (MAC Bridge Service Profile)
     * ME 47 (MAC Bridge Port Configuration Data)
     * ME 84 (VLAN Tagging Filter Data)
     * ME 262 (T-CONT)
     * ME 266 (GEM Interworking Termination Point)
     * ME 268 (GEM Port Network CTP)
   - Расширенный набор может включать остальные ME для дополнительной функциональности

6. **Потенциальные проблемы совместимости**: Значительные различия в наборе поддерживаемых ME между вендорами могут приводить к проблемам взаимозаменяемости и требуют стандартизации.

7. **Необходимость дополнительного тестирования**: Для получения более точных результатов рекомендуется провести дополнительное тестирование Calix ONT с доступом к интернету для проверки наличия дополнительных ME в этом режиме.

## Ссылки на исходные файлы

Для более детального ознакомления с исходными данными рекомендуется обратиться к следующим файлам проекта:

- Исходные GPON-файлы: `./gpon_files/CalixCapture.gpon`, `./gpon_files/RadisysCapture.gpon`
- Подробные анализы: `./analyzed_data/Base_OMCI_Message_analysis_Calix.md`, `./analyzed_data/Base_OMCI_Message_analysis_Radisys.md` 